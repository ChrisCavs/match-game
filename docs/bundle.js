!function(){"use strict";function e(){var e=document.querySelector(".card-container"),t=document.querySelector("button");if(!this.classList.contains("flipped")){this.style.backgroundColor=""+this.getAttribute("color"),this.innerHTML=""+this.getAttribute("value"),this.classList.add("flipped");var r=document.querySelectorAll(".flipped");if(2===r.length)if(r[0].getAttribute("value")===r[1].getAttribute("value")){r.forEach(function(e){Object.assign(e.style,{"background-color":"rgb(153,153,153)",color:"rgb(204,204,204)",opacity:"0.2"})});var o=window.localStorage.getItem("count");if(o?o++:o=1,window.localStorage.setItem("count",o),r[0].classList.remove("flipped"),r[1].classList.remove("flipped"),8===o){var l=function(){for(;e.firstChild;)e.removeChild(e.firstChild);e.innerHTML="Well Done!",e.classList.add("well-done"),t.classList.add("active")};console.log("game-ending"),e.classList.add("end"),e.addEventListener("transitionend",l)}}else setTimeout(function(){r[0].style.backgroundColor="rgb(32,64,86)",r[0].innerHTML="",r[0].classList.remove("flipped"),r[1].style.backgroundColor="rgb(32,64,86)",r[1].innerHTML="",r[1].classList.remove("flipped")},400)}}var t=function(){for(var e=[],t=[],r=1;r<9;r++)e.push(r,r);for(;e.length>0;){var o=Math.floor(Math.random()*e.length);t.push(e[o]),e.splice(o,1)}return t},r=function(t){var r=document.querySelector(".card-container"),o=document.querySelector("button");r.classList.remove("end"),r.classList.remove("well-done"),o.classList.remove("active");for(var l=["hsl(25, 85%, 65%)","hsl(55, 85%, 65%)","hsl(90, 85%, 65%)","hsl(160, 85%, 65%)","hsl(220, 85%, 65%)","hsl(265, 85%, 65%)","hsl(310, 85%, 65%)","hsl(360, 85%, 65%)"];r.firstChild;)r.removeChild(r.firstChild);for(var i=0;i<t.length;i++){var n=t[i],s=l[n-1],c=document.createElement("div");c.classList.add("card"),c.setAttribute("value",n),c.setAttribute("color",s),c.setAttribute("flipped","false"),r.appendChild(c)}Array.from(document.querySelectorAll(".card")).forEach(function(t){t.addEventListener("click",e)})},o=function(){window.localStorage.clear(),document.querySelector("button").addEventListener("click",function(){window.localStorage.clear(),r(t())}),r(t())};document.addEventListener("DOMContentLoaded",o)}();
